
<div class="min-h-screen bg-gray-50">
  @if (authService.isAuthenticated()) {
    <header class="bg-white shadow-sm">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16">
          <div class="flex items-center space-x-8">
            <div class="flex-shrink-0 flex items-center space-x-2">
              <svg class="h-8 w-8 text-blue-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-1.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25A2.25 2.25 0 0 1 5.25 3h4.5M12 3v13.5" />
              </svg>
              <span class="text-xl font-bold text-slate-800">Progress Tracker</span>
            </div>
            <nav class="hidden md:flex space-x-4">
              <a routerLink="/projects" routerLinkActive="text-blue-600 border-blue-600" [routerLinkActiveOptions]="{exact: true}"
                class="text-gray-500 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium">
                Projects
              </a>
              @if (authService.currentUser()?.role === 'Super Admin' || authService.currentUser()?.role === 'Admin Kantor') {
                <a routerLink="/admin" routerLinkActive="text-blue-600 border-blue-600"
                  class="text-gray-500 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium">
                  Create Project
                </a>
              }
              @if (authService.currentUser()?.role === 'Super Admin') {
                <a routerLink="/user-management" routerLinkActive="text-blue-600 border-blue-600"
                  class="text-gray-500 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium">
                  User Management
                </a>
              }
            </nav>
          </div>
          <div class="flex items-center space-x-4">
            <div class="text-sm text-gray-600">
              Logged in as: <span class="font-semibold">{{ authService.currentUser()?.name }}</span>
               <span class="text-xs text-gray-500">({{ authService.currentUser()?.role }})</span>
            </div>
            <button (click)="logout()" type="button" class="relative inline-flex items-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50">
               <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-gray-500">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9" />
              </svg>
              Logout
            </button>
          </div>
        </div>
      </div>
    </header>
  }

  <main>
    <div [class]="authService.isAuthenticated() ? 'max-w-7xl mx-auto py-6 sm:px-6 lg:px-8' : ''">
      <router-outlet></router-outlet>
    </div>
  </main>
</div>